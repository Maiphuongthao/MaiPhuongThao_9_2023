{% extends 'index.html' %}
{% block content %}
<section class="d-flex flex-column align-items-center align-content-center mt-5 ">
    <h2 class="fw-normal">Suivre d'autres utilisateurs</h2>
    <form method="post" class="d-flex gap-5 mt-4 mb-5 justify-content-center" style="width: 48rem;">
        {% csrf_token %}
        <input type="text" class="form-control form-control-lg px-5" name="followed_user"
            placeholder="Nom d'utilisateur">
        <button type="submit" class="btn btn-light border border-black mx-auto">Envoyer</button>
    </form>
    <h2 class="fw-normal">Abonnements</h2>
    <div class="mb-5">
        {% if user_follows %}
        <ul class="mt-4 ">
            {% for user in user_follows %}
            <li class="d-flex gap-0 border border-black " >
                <div class="ps-2" style="width: 45rem;">
                    {{user.followed_user.username}}
                </div>
                <div class="border-start border-black">
                    <a class="text-decoration-none text-black" href="{% url 'delete_subscription' user.pk %}">Se
                        désabonner</a>
                </div>
            </li>

            {% endfor %}
        </ul>
        {% elif not user_follows %}
        <p>Vous ne suivez aucun utilisateurs</p>
        {% endif %}
    </div>
    <h2 class="fw-normal">Abonnés</h2>
    <div>
        {% if followed_by %}
        <ul class="mt-4" >
            {% for user in followed_by %}
            <li class="d-flex gap-0 border border-black " style="width: 45rem;">
                {{user.user.username}}
            </li>
            {% endfor %}
        </ul>
        {% elif not followed_by %}
        <p>Vous n'avez aucun abonné</p>
        {% endif %}
    </div>
</section>

{% endblock content %}